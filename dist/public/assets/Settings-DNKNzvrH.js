import{j as e}from"./ui-DDb1Cthj.js";import{r as a}from"./vendor-CbTYwD9p.js";import{u as L}from"./query-DJEuKXE5.js";import{i as T,C as l,B as j,a as n}from"./index-DP8xWL5x.js";import{S as i}from"./switch-sf127c2O.js";import{L as c}from"./label-DvYd1ndl.js";import{h as P,ak as N,al as r,n as B,am as z,e as D,p as o,an as F,ao as H}from"./icons-DpVlej8W.js";import"./router-i_uqa6-9.js";import"./tonconnect-BAw8c48p.js";import"./ton-BfqU8ldO.js";import"./utils-BkWO3WEY.js";function V(){var g;const[d,b]=a.useState(null),[v,m]=a.useState(!0),[w,x]=a.useState(!0),[y,u]=a.useState(!0);a.useEffect(()=>{T().then(b).catch(U=>console.error("Failed to initialize user:",U));const t=localStorage.getItem("notifications"),f=localStorage.getItem("sound"),p=localStorage.getItem("animations");t!==null&&m(t==="true"),f!==null&&x(f==="true"),p!==null&&u(p==="true")},[]);const{data:s}=L({queryKey:["/api/user",d],enabled:!!d}),S=t=>{m(t),localStorage.setItem("notifications",t.toString())},C=t=>{x(t),localStorage.setItem("sound",t.toString())},k=t=>{u(t),localStorage.setItem("animations",t.toString())},E=()=>{localStorage.clear(),window.location.href="/"},I=()=>{const t=`https://t.me/${(s==null?void 0:s.username)||"telegram"}`;window.open(t,"_blank")};if(!s)return e.jsx("div",{className:"min-h-screen bg-background p-3",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(l,{className:"p-6",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})})})});const h=new Date(s.createdAt),A=Math.floor((Date.now()-h.getTime())/(1e3*60*60*24));return e.jsx("div",{className:"min-h-screen bg-background p-3",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(P,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Settings"}),e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Customize Your Experience"})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-5 h-5 text-cyber-blue"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Account Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/30 rounded-lg",children:[s.photoUrl?e.jsx("img",{src:s.photoUrl,alt:s.username,className:"w-16 h-16 rounded-full border-2 border-cyber-blue"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-cyber-blue to-neon-purple flex items-center justify-center text-2xl font-bold",children:((g=s.username)==null?void 0:g.charAt(0).toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-bold",children:s.username}),s.isAdmin&&e.jsx(j,{className:"bg-destructive text-white",children:"Admin"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"flex gap-2 mt-2",children:e.jsxs(n,{size:"sm",variant:"outline",onClick:I,className:"text-xs",children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),"Open in Telegram"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-matrix-green"}),e.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Member Since"})]}),e.jsx("p",{className:"text-sm font-bold",children:h.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[A," days playing"]})]}),e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(z,{className:"w-4 h-4 text-cyber-blue"}),e.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"User ID"})]}),e.jsxs("p",{className:"text-xs font-mono break-all",children:[s.id.slice(0,24),"..."]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Telegram: ",s.telegramId]})]}),e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"w-4 h-4 text-neon-orange"}),e.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Referral Code"})]}),e.jsx("p",{className:"text-sm font-mono font-bold text-matrix-green",children:s.referralCode}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Share with friends"})]}),e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-500"}),e.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Tutorial"})]}),e.jsx(j,{variant:s.tutorialCompleted?"default":"secondary",children:s.tutorialCompleted?"Completed":"Not Completed"})]})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(o,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Preferences"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx(c,{htmlFor:"notifications",className:"font-medium cursor-pointer",children:"Push Notifications"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive alerts for mining rewards and events"})]}),e.jsx(i,{id:"notifications",checked:v,onCheckedChange:S})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx(c,{htmlFor:"sound",className:"font-medium cursor-pointer",children:"Sound Effects"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Play sounds for actions and rewards"})]}),e.jsx(i,{id:"sound",checked:w,onCheckedChange:C})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx(c,{htmlFor:"animations",className:"font-medium cursor-pointer",children:"Animations"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable visual effects and transitions"})]}),e.jsx(i,{id:"animations",checked:y,onCheckedChange:k})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{variant:"ghost",className:"w-full justify-start",onClick:()=>window.location.href="/terms",children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"Terms of Service"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",onClick:()=>window.location.href="/privacy",children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"Privacy Policy"]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start",onClick:()=>window.open("https://t.me/cryptohackerheist","_blank"),children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"Join Community"]})]})]}),e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-destructive",children:"Logout"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear your session and return to login"})]}),e.jsxs(n,{variant:"destructive",onClick:E,children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Logout"]})]})}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Crypto Hacker Heist v1.0.0"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Built with ðŸ’Ž by the community"})]})]})})}export{V as default};
