import{j as e}from"./ui-DDb1Cthj.js";import{r as T}from"./vendor-CbTYwD9p.js";import{u as i}from"./query-DJEuKXE5.js";import{C as L,B as k,j as o}from"./index-DP8xWL5x.js";import{T as C,a as B,b as d,c as m}from"./tabs-CGC_qo3L.js";import{c as x,Z as h,a5 as u,u as D,aj as E,d as S}from"./icons-DpVlej8W.js";import"./router-i_uqa6-9.js";import"./tonconnect-BAw8c48p.js";import"./ton-BfqU8ldO.js";import"./utils-BkWO3WEY.js";function Z(){const[p,g]=T.useState("hashrate"),{data:j,isLoading:b}=i({queryKey:["/api/leaderboard/hashrate"],queryFn:async()=>{const a=o();if(!a)throw new Error("Not authenticated");const t=await fetch("/api/leaderboard/hashrate?limit=50",{headers:{"X-Telegram-Init-Data":a}});if(!t.ok)throw new Error("Failed to fetch leaderboard");return t.json()}}),{data:f,isLoading:N}=i({queryKey:["/api/leaderboard/balance"],queryFn:async()=>{const a=o();if(!a)throw new Error("Not authenticated");const t=await fetch("/api/leaderboard/balance?limit=50",{headers:{"X-Telegram-Init-Data":a}});if(!t.ok)throw new Error("Failed to fetch leaderboard");return t.json()}}),w=a=>{switch(a){case 1:return e.jsx(S,{className:"w-5 h-5 text-yellow-400"});case 2:return e.jsx(E,{className:"w-5 h-5 text-gray-400"});case 3:return e.jsx(D,{className:"w-5 h-5 text-amber-700"});default:return e.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",a]})}},l=a=>{switch(a){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-black";case 3:return"bg-gradient-to-r from-amber-600 to-amber-800 text-white";default:return""}},c=(a,t,y)=>t?e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(r=>e.jsx("div",{className:"p-4 bg-muted/30 rounded-md animate-pulse",children:e.jsx("div",{className:"h-12 bg-muted/50 rounded"})},r))}):!a||a.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(x,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No miners yet. Be the first!"})]}):e.jsx("div",{className:"space-y-2",children:a.map((r,v)=>{const s=v+1,n=s<=3;return e.jsx(L,{className:`p-4 ${n?l(s):"bg-muted/30"} transition-all hover:scale-[1.02]`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10",children:w(s)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${n&&s!==3?"":"text-foreground"}`,children:r.username}),e.jsx("div",{className:"flex items-center gap-3 mt-1",children:y==="hashrate"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h,{className:"w-3 h-3 text-cyber-blue"}),e.jsxs("span",{className:`text-xs font-mono ${n&&s!==3?"opacity-90":"text-cyber-blue"}`,children:[r.totalHashrate.toLocaleString()," H/s"]})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3 text-matrix-green"}),e.jsxs("span",{className:`text-xs font-mono ${n&&s!==3?"opacity-90":"text-matrix-green"}`,children:[r.csBalance.toLocaleString()," CS"]})]})})]}),n&&e.jsxs(k,{className:l(s)+" text-xs",children:["Top ",s]})]})},r.id)})});return e.jsx("div",{className:"min-h-screen bg-background p-2 md:p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-md bg-yellow-500/20 flex items-center justify-center",children:e.jsx(x,{className:"w-6 h-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold terminal-gradient",children:"Leaderboard"}),e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Top Miners & Richest Players"})]})]}),e.jsxs(C,{value:p,onValueChange:a=>g(a),children:[e.jsxs(B,{className:"grid w-full grid-cols-2",children:[e.jsxs(d,{value:"hashrate",className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:"Top Hashrate"})]}),e.jsxs(d,{value:"balance",className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"Top Balance"})]})]}),e.jsx(m,{value:"hashrate",className:"mt-4",children:c(j,b,"hashrate")}),e.jsx(m,{value:"balance",className:"mt-4",children:c(f,N,"balance")})]})]})})}export{Z as default};
