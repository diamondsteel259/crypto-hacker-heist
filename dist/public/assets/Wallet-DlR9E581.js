import{u as S,a as W,b as k,g as A,c as l,j as e,C as d,G as b,B as c,d as B,W as L,e as o}from"./index-Bu2OBG8_.js";import{L as i}from"./lock-Ckw_b6Es.js";function O(){var h;const[m]=S(),p=W(),n=k(),j=!!n,s=A(),{data:a}=l({queryKey:[`/api/user/${s}`],enabled:!!s}),{data:g=[]}=l({queryKey:[`/api/user/${s}/rewards`],enabled:!!s}),{data:N=[]}=l({queryKey:[`/api/user/${s}/referrals`],enabled:!!s}),f=(a==null?void 0:a.csBalance)??0,v=(a==null?void 0:a.chstBalance)??0,x=g.reduce((t,r)=>t+r.reward,0),u=N.reduce((t,r)=>t+r.bonusEarned,0),w=x+u,y=async()=>{await m.openModal()},C=async()=>{await m.disconnect()},T=t=>t?`${t.slice(0,4)}...${t.slice(-4)}`:"";return e.jsx("div",{className:"min-h-screen bg-background terminal-scanline",children:e.jsxs("div",{className:"max-w-5xl mx-auto p-3 space-y-4",children:[e.jsxs(d,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx(b,{className:"w-4 md:w-5 h-4 md:h-5 text-matrix-green"}),e.jsx("h3",{className:"text-xs md:text-sm font-semibold uppercase tracking-wider",children:"Cipher Shards (CS)"})]}),e.jsx(c,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 md:px-2",children:"Pre-Airdrop"})]}),e.jsxs("div",{className:"text-center py-4 md:py-6",children:[e.jsx("p",{className:"text-3xl md:text-5xl font-bold font-mono text-matrix-green matrix-glow mb-1 md:mb-2","data-testid":"text-cs-balance",children:f.toLocaleString()}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Available Balance"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 mt-4 md:mt-6 pt-4 md:pt-6 border-t border-border",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground mb-1",children:"Total Earned"}),e.jsx("p",{className:"text-sm md:text-lg font-bold font-mono","data-testid":"text-total-earned",children:w.toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground mb-1",children:"From Mining"}),e.jsx("p",{className:"text-sm md:text-lg font-bold font-mono text-matrix-green","data-testid":"text-from-mining",children:x.toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground mb-1",children:"From Referrals"}),e.jsx("p",{className:"text-sm md:text-lg font-bold font-mono text-cyber-blue","data-testid":"text-from-referrals",children:u.toLocaleString()})]})]})]}),e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-ton-blue"}),e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"TON Wallet"})]}),e.jsx(c,{variant:"outline",className:"text-xs bg-ton-blue/20 text-ton-blue border-ton-blue/30",children:"Optional"})]}),j?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-md bg-muted/30 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected Wallet"}),e.jsx(o,{variant:"ghost",size:"sm",onClick:C,className:"h-6 text-xs","data-testid":"button-disconnect-wallet",children:"Disconnect"})]}),e.jsx("p",{className:"font-mono text-sm",children:T(p)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-md bg-card border border-card-border text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Wallet"}),e.jsx("p",{className:"text-sm font-bold font-mono",children:n.name||((h=n.device)==null?void 0:h.appName)||"TON Wallet"})]}),e.jsxs("div",{className:"p-4 rounded-md bg-card border border-card-border text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Connected"}),e.jsx("p",{className:"text-sm font-bold font-mono text-chart-1",children:"âœ“ Active"})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(L,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-20"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect your TON wallet to purchase premium equipment and access CHST claiming"}),e.jsx(o,{variant:"default",className:"bg-ton-blue hover:bg-ton-blue/90",onClick:y,"data-testid":"button-connect-ton-wallet",children:"Connect TON Wallet"})]})]}),e.jsxs(d,{className:"p-6 opacity-75",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-matrix-green"}),e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"CHST Token"})]}),e.jsxs(c,{variant:"outline",className:"text-xs bg-neon-orange/20 text-neon-orange border-neon-orange/30",children:[e.jsx(i,{className:"w-3 h-3 mr-1"}),"Locked"]})]}),e.jsxs("div",{className:"text-center py-6 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(i,{className:"w-12 h-12 text-muted-foreground opacity-10"})}),e.jsx("p",{className:"text-4xl font-bold font-mono text-muted-foreground mb-2 relative",children:v.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground relative",children:"Available after first halving"})]}),e.jsxs("div",{className:"mt-6 p-4 rounded-md bg-muted/30 border border-border",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:e.jsx("strong",{children:"Airdrop Information:"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your CS will be converted to CHST at the first halving (Month 6). You'll be able to claim your CHST tokens here."})]}),e.jsxs(o,{variant:"outline",className:"w-full mt-4",disabled:!0,"data-testid":"button-claim-chst",children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"Claim CHST (Unlocks at Halving)"]})]})]})})}export{O as default};
